// Generated by CoffeeScript 1.4.0
(function() {

  jQuery(function($) {
    var liTpl, list;
    list = $('#form-list');
    liTpl = list.find('> li:first').detach();
    return $('#add-list-item').keydown(function(e) {
      var li;
      if (e.keyCode !== 13) {
        return null;
      }
      li = liTpl.clone();
      li.find('input').val(this.value).blur(function() {
        if (this.value === '') {
          $(this).parent().remove();
          return $('#add-list-item').prop('disabled', false);
        }
      });
      list.append(li);
      this.value = '';
      this.disabled = parseInt(list.data('max')) === list.children().length;
      return false;
    });
  });

}).call(this);
